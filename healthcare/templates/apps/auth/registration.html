{% extends 'apps/auth/base.html' %} 
{% comment %} {% load crispy_forms_tags %}  {% endcomment %}
{% block title %} Registration {% endblock %} 
{% block content %}
<div class="container">
    <div class="row justify-content-center mt-5">
        <div class="col-md-2"></div>
        <div class="col-md-8">
            <div class="card">
                <div class="card-body">
                    <h2 class="card-title text-center">
                        Welcome! Please fill out the form to join healthcare
                    </h2>
                    <form method="post" action="{% url 'register' %}">
                        {% csrf_token %}
                        <div class="form-group">
                            <label for="username">Username</label>
                            <input
                                type="text"
                                class="form-control"
                                id="username"
                                name="username"
                                placeholder="Username"
                                value=""
                                required
                            />
                        </div>
                        <div class="form-group">
                            <label for="email">Email</label>
                            <input
                                type="text"
                                class="form-control"
                                id="email"
                                name="email"
                                placeholder="Email"
                                value=""
                                required
                            />
                        </div>
                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="first_name">FirstName</label>
                                <input
                                    type="text"
                                    class="form-control"
                                    id="first_name"
                                    name="first_name"
                                    placeholder="Firstname"
                                    value=""
                                />
                            </div>
                            <div class="form-group col-md-6">
                                <label for="last_name">Lastname</label>
                                <input
                                    type="text"
                                    class="form-control"
                                    id="last_name"
                                    name="last_name"
                                    placeholder="Lastname"
                                    value=""
                                />
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="mb-3 col-md-6">
                                <label for="phone" class="form-label"
                                    >Phone Number</label
                                >
                                <input
                                    type="tel"
                                    class="form-control"
                                    id="phone"
                                    name="phone"
                                    placeholder="Enter phone number"
                                    value=""
                                    required
                                />
                            </div>
                            <div class="mb-3 col-md-6">
                                <label for="age" class="form-label">Age</label>
                                <input
                                    type="number"
                                    class="form-control"
                                    id="age"
                                    name="age"
                                    placeholder="Enter your age"
                                    value=""
                                    required
                                />
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="address">Address</label>
                            <input
                                type="text"
                                class="form-control"
                                id="address"
                                name="address"
                                placeholder="Address"
                                value=""
                            />
                        </div>
                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="city">City</label>
                                <input
                                    type="text"
                                    class="form-control"
                                    id="city"
                                    name="city"
                                    placeholder="City"
                                    value=""
                                    required
                                />
                            </div>
                            <div class="form-group col-md-4">
                                <label for="Country">Country</label>
                                <select
                                    id="Country"
                                    class="form-control"
                                    name="Country"
                                    value=""
                                >
                                    <option selected>United Kingdom</option>
                                    <option>The United States</option>
                                </select>
                            </div>
                            <div class="form-group col-md-2">
                                <label for="postcode">Postcode</label>
                                <input
                                    type="text"
                                    class="form-control"
                                    id="postcode"
                                    name="postcode"
                                    placeholder="Postcode"
                                    value=""
                                />
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="mb-3 form-group col-md-6">
                                <label for="dob" class="form-label"
                                    >Date of Birth</label
                                >
                                <input
                                    type="date"
                                    class="form-control"
                                    id="dob"
                                    name="dob"
                                    value=""
                                    required
                                />
                            </div>
                            <div class="form-group col-md-6">
                                <label for="gender">Gender</label>
                                <select
                                    class="form-control"
                                    id="gender"
                                    name="gender"
                                    value=""
                                >
                                    <option value="" selected>
                                        Select gender
                                    </option>
                                    <option value="0" selected>Male</option>
                                    <option value="1">Female</option>
                                    <option value="2">Other</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-check">
                          <input
                            type="radio"
                            class="form-check-input"
                            id="is_doctor"
                            name="user_role"
                            value="doctor"
                          />
                          <label class="form-check-label" for="is_doctor">Doctor</label>
                        </div>
                        <div class="form-check">
                          <input
                            type="radio"
                            class="form-check-input"
                            id="is_patient"
                            name="user_role"
                            value="patient"
                          />
                          <label class="form-check-label" for="is_patient">Patient</label>
                        </div>
                        <div id="doctorSpecialistField" style="display: none;">
                          <div class="form-group">
                            <label for="doctor_specialist">Doctor Specialist</label>
                            <input
                              type="text"
                              class="form-control"
                              id="doctor_specialist"
                              name="doctor_specialist"
                              placeholder="Enter Doctor Specialist"
                            />
                          </div>
                        </div>
                        <div class="form-group">
                            <label for="password">Password</label>
                            <input
                                type="password"
                                class="form-control"
                                id="password"
                                name="password"
                                placeholder="Password"
                                value=""
                                required
                            />
                        </div>
                        <button type="submit" class="btn btn-primary">
                            Register
                        </button>
                    </form>
                </div>
            </div>
        </div>

        <div class="col-md-2"></div>
    </div>
</div>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    var isDoctorRadio = document.getElementById("is_doctor");
    var isPatientRadio = document.getElementById("is_patient");
    var doctorSpecialistField = document.getElementById("doctorSpecialistField");
  
    function toggleDoctorSpecialistField() {
      doctorSpecialistField.style.display = isDoctorRadio.checked ? "block" : "none";
    }
  
    isDoctorRadio.addEventListener("change", toggleDoctorSpecialistField);
    isPatientRadio.addEventListener("change", function () {
      doctorSpecialistField.style.display = "none";
    });
  
    // Initial state
    toggleDoctorSpecialistField();
  });
  </script>
  

{% endblock %}
